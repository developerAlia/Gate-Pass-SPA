<div class="row pl-2 pr-2" *ngIf="checkInData">
  <fieldset
    class="form-group border col-xs-12 col-sm-12 col-md-12 col-lg-12 mt-4"
  >
    <legend class="w-auto px-2">
      <h5>{{ "VISITORDETAILS" | translate }}</h5>
    </legend>
    <div class="row mb-2">
      <div class="col-auto">
        <img
          class="img-100 rounded-circle"
          alt=""
          src="{{
            checkInData?.visitor.img
              ? 'data:image/jpg;base64,' + checkInData?.visitor.img
              : 'assets/images/user/user.png'
          }}"
        />
      </div>
      <div class="col align-self-center">
        <h5 class="mb-1">
          {{ checkInData.visitor.name }}
        </h5>
      </div>
    </div>

    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
        <label for="CivilID">
          {{ "CivilID" | translate }}
        </label>
        <div class="form-group">
          <span class="form-control bg-color-white">
            {{ checkInData.visitor.civilNumber }}</span
          >
        </div>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
        <label for="Phone">
          {{ "Phone" | translate }}
        </label>
        <div class="form-group">
          <span class="form-control bg-color-white">{{
            checkInData.visitor.phone
          }}</span>
        </div>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
        <label for="FromTo">
          {{ "FromTo" | translate }}
        </label>
        <div class="form-group">
          <span class="form-control bg-color-white">
            <b>{{ checkInData.fromDate | date }}</b> {{ "TO" | translate }}
            <b>{{ checkInData.toDate | date }}</b></span
          >
        </div>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
        <label for="VISITTYPE">
          {{ "VISITTYPE" | translate }}
        </label>
        <div class="form-group">
          <span class="form-control bg-color-white">
            {{
              checkInData[
                "zVisitTypesName" + (translate.currentLang | titlecase)
              ]
            }}
          </span>
        </div>
      </div>

      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 mb-4">
        <div class="row">
          <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
            <label for="CheckInHistory">
              {{ "CheckInHistory" | translate }}
            </label>
            <div class="table-responsive mb-4">
              <table class="table table-hover">
                <thead class="thead-dark">
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">{{ "DATE" | translate }}</th>
                    <th scope="col">{{ "TIME" | translate }}</th>
                  </tr>
                </thead>
                <tbody>
                  <tr
                    *ngFor="
                      let item of checkInDetails;
                      let i = index
                    "
                  >
                    <th scope="row">
                      {{
                        pagination.itemsPerPage * (pagination.currentPage - 1) +
                          (i + 1)
                      }}
                    </th>
                    <td>
                      {{ item.checkingDate | date }}
                    </td>
                    <td>
                      {{ item.checkingDate | date : "mediumTime" }}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <ngb-pagination
              [boundaryLinks]="true"
              [(page)]="pagination.currentPage"
              [pageSize]="pagination.itemsPerPage"
              [collectionSize]="pagination.totalItems"
              (pageChange)="changePage($event)"
              [rotate]="true"
              [maxSize]="5"
              [boundaryLinks]="true"
            ></ngb-pagination>
          </div>
        </div>
      </div>
    </div>
  </fieldset>

  <fieldset
    class="form-group border col-xs-12 col-sm-12 col-md-12 col-lg-12 mt-4"
    *ngIf="this.checkInData.vehicle != null"
  >
    <legend class="w-auto px-2">
      <h5>{{ "VehicleDetails" | translate }}</h5>
    </legend>

    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 mt-2">
        <car-plate
          [plateNumber]="this.checkInData.vehicle.plateNumber"
          [plateCodeEn]="this.checkInData.vehicle.zPlateCodeNameEn"
          [plateCodeAr]="this.checkInData.vehicle.zPlateCodeNameAr"
          [plateColor]="this.checkInData.vehicle.colorClass"
        ></car-plate>
      </div>

      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div class="row">
          <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 mt-2">
            <label for="VehicleMakerModel">
              {{ "VehicleMakerModel" | translate }}
            </label>
            <div class="form-group">
              <span class="form-control bg-color-white">
                {{
                  checkInData.vehicle[
                    "zMakerName" + (translate.currentLang | titlecase)
                  ]
                }}
                -
                {{
                  checkInData.vehicle[
                    "zModelName" + (translate.currentLang | titlecase)
                  ]
                }}
              </span>
            </div>
          </div>
          <!-- <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 mt-2">
            <label for="VehicleModel">
              {{ "VehicleModel" | translate }}
            </label>
            <div class="form-group">
              <span class="form-control bg-color-white">
                {{
                  checkInData.vehicle[
                    "zModelName" + (translate.currentLang | titlecase)
                  ]
                }}
              </span>
            </div>
          </div> -->
          <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 mt-2">
            <label for="Year">
              {{ "Year" | translate }}
            </label>
            <div class="form-group">
              <span class="form-control bg-color-white">
                {{ checkInData.vehicle.year }}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </fieldset>
  <fieldset
    class="form-group border col-xs-12 col-sm-12 col-md-12 col-lg-12 mt-4"
  >
    <legend class="w-auto px-2">
      <h5>{{ "RequesterDetails" | translate }}</h5>
    </legend>

    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div class="row mb-2">
          <div class="col-auto">
            <img
              class="img-100 rounded-circle"
              alt=""
              src="{{
                checkInData?.requester.img
                  ? 'data:image/jpg;base64,' + checkInData?.requester.img
                  : 'assets/images/user/user.png'
              }}"
            />
          </div>
          <div class="col align-self-center">
            <h5 class="mb-1">
              {{
                checkInData.requester[
                  "fullName" + (translate.currentLang | titlecase)
                ]
              }}
            </h5>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
        <label for="Designation">
          {{ "Designation" | translate }}
        </label>
        <div class="form-group">
          <span class="form-control bg-color-white">
            {{
              checkInData.requester[
                "designation" + (translate.currentLang | titlecase)
              ]
            }}
          </span>
        </div>
      </div>
      <!-- <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
          <label for="Phone">
            {{ "Phone" | translate }}
          </label>
          <div class="form-group">
            <span class="form-control bg-color-white">
              {{
                checkInData.requester[
                  "designation" + (translate.currentLang | titlecase)
                ]
              }}
            </span>
          </div>
        </div> -->
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
        <label for="Email">
          {{ "Email" | translate }}
        </label>
        <div class="form-group">
          <span class="form-control bg-color-white">
            {{ checkInData.requester.email }}
          </span>
        </div>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 mt-4 align-self-center">
        <div class="form-group">
          <label for="IsOfficer">{{ "IsOfficer" | translate }}:</label>
          <mat-slide-toggle
            class="ml-2"
            disabled
            [checked]="checkInData.requester?.isOfficer"
          >
            {{
              (checkInData.requester?.isOfficer == true ? "Yes" : "No")
                | translate
            }}
          </mat-slide-toggle>
        </div>
      </div>
    </div>
  </fieldset>
</div>
