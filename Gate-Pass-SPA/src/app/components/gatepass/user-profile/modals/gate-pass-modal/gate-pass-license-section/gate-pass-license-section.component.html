<div class="row" [formGroup]="licenseDetails" *ngIf="licenseDetails">
  <!-- <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
    <label for="name">{{ "DrivingLicenseId" | translate }}:</label>

    <app-text-input
      (keypress)="($event.charCode >= 48 && $event.charCode < 58)"
      [type]="'number'"
      [formControl]="licenseDetails.controls['drivingLicenseId']"
      [label]="'DrivingLicenseId' | translate"
    >
    </app-text-input>
  </div> -->

  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
    <label for="ExpiryDate">
      {{ "ExpiryDate" | translate }} <span class="font-danger">*</span>
    </label>

    <app-date-picker
      [formControl]="licenseDetails.controls['expairyDate']"
      [label]="'ExpiryDate' | translate"
      [minDate]="this.minDate"
      [readonlyStatus]="!this.licenseDetails.controls['expairyDate'].disabled"
    >
    </app-date-picker>
  </div>
  <div
    class="col-xs-12 col-sm-12 col-md-6 col-lg-6"
    *ngIf="
      (this.licenseDetails.get('isExpire').value == true &&
        this.licenseDetails.get('licenseURL').value != null &&
        this.isSecurity == false) ||
      (this.licenseDetails.get('licenseURL').value == null &&
        this.licenseDetails.get('isExpire').value == true &&
        this.isSecurity == false) ||
      (this.licenseDetails.get('licenseURL').value == null &&
        this.licenseDetails.get('isExpire').value == false &&
        this.isSecurity == false)
    "
  >
    <label for="name"
      >{{ "DrivingLicenseAttachment" | translate }}
      <span class="font-danger">*</span>:</label
    >
    <app-upload-file
      required
      [formControl]="licenseDetails.controls['licenseAttach']"
      [label]="'DrivingLicenseAttachment'"
      [fileType]="'PDF'"
      (change)="
        checkFileSize($event.target.files, 'licenseDetails.licenseAttach', true)
      "
    ></app-upload-file>
  </div>

  <div
    class="col-xs-12 col-sm-12 col-md-6 col-lg-6"
    *ngIf="this.licenseDetails.get('licenseURL').value != null"
  >
    <label for="name">{{ "DrivingLicenseAttachment" | translate }}:</label>
    <div>
      <a
        href="javascript:void(0)"
        id="viewAttachment"
        name="viewAttachment"
        ngbTooltip="View Document"
        class="mt-1"
        ><i
          class="fa fa-file-pdf-o"
          style="font-size: 1.73em"
          (click)="getAttachmentFile()"
        ></i
      ></a>
    </div>
  </div>

  <!-- Offical Use Only -->

  <fieldset
    class="form-group border col-xs-12 col-sm-12 col-md-12 col-lg-12 mt-4"
    *ngIf="
      this.isSecurity ||
      (licenseDetails.value.isEdit == true &&
        licenseDetails.value.requestsId != 0)
    "
  >
    <legend class="w-auto px-2">
      <h5>{{ "OfficalUseOnly" | translate }}</h5>
    </legend>
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 mb-4">
        <div class="row">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <check-box
              [formControl]="
                licenseDetails.controls['securitySide'].controls['isverified']
              "
              [id]="'licenseCheckBox'"
            ></check-box>
          </div>

          <div
            class="col-xs-12 col-sm-12 col-md-12 col-lg-12 mt-2"
            *ngIf="!licenseDetails.get('securitySide.isverified').value"
          >
            <label for="Note"
              >{{ "Note" | translate }}
              <span class="font-danger">*</span>:</label
            >
            <app-text-area
              [formControl]="
                licenseDetails.controls['securitySide'].controls['notes']
              "
            ></app-text-area>
          </div>
        </div>
      </div>
    </div>
  </fieldset>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <div class="row mt-4">
      <div
        class="col-xs-6 col-sm-6 col-md-6 col-lg-6 d-flex justify-content-start"
      >
        <button
          class="btn btn-light mr-1"
          type="button"
          awPreviousStep
          *ngIf="isSecurity"
        >
          {{ "Back" | translate }}
        </button>
      </div>
      <div
        class="col-xs-6 col-sm-6 col-md-6 col-lg-6 d-flex justify-content-end"
      >
        <button
          class="btn btn-primary mr-1"
          type="button"
          *ngIf="isSecurity == false && licenseDetails.value.isEdit == true"
          [disabled]="
            licenseDetails.valid == false ||
            (licenseDetails.valid == false &&
              licenseDetails.value.securitySide.isverified == true)
          "
          (click)="postDrivingLicense()"
        >
          {{ "NEXT" | translate }}
        </button>
        <button
          class="btn btn-primary mr-1"
          type="button"
          *ngIf="!licenseDetails.value.isEdit && isSecurity == false"
          awNextStep
        >
          {{ "NEXT" | translate }}
        </button>
        <button
          *ngIf="isSecurity"
          class="btn btn-primary mr-1"
          type="button"
          (click)="verifyDrivingLicense()"
          [disabled]="!this.licenseDetails.get('securitySide').valid"
        >
          {{ "NEXT" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
